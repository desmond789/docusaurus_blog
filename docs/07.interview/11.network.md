---
title: 11.网络设备
---
## 交换机如何转发数据包的？

交换机是网络中用于转发数据包的设备，它基于目标设备的MAC地址进行转发。以下是交换机转发数据包的基本过程：

1. **学习阶段（Learning）：**
   * 当交换机第一次启动或接收到一个帧时，它会记录发送该帧的设备的MAC地址和与其相连的端口。交换机维护一个MAC地址表，将每个已知设备的MAC地址与相应的端口关联起来。
2. **过滤阶段（Filtering）：**
   * 当交换机收到一个帧时，它首先检查帧中的目标MAC地址。
   * 如果目标MAC地址在交换机的MAC地址表中，交换机会查找该地址对应的端口，并将帧只发送到目标端口。这被称为单播（Unicast）。
3. **广播阶段（Flooding）：**
   * 如果目标MAC地址不在MAC地址表中，交换机会将帧发送到所有端口（除了源端口）。这是为了确保帧能够到达目标设备，同时更新MAC地址表。
   * 这种发送到所有端口的方式被称为广播（Broadcast）。
4. **更新MAC地址表：**
   * 当目标设备收到帧时，它会响应交换机，使交换机知道目标设备的存在。交换机会更新MAC地址表，将目标设备的MAC地址与相应的端口关联起来。
5. **转发阶段（Forwarding）：**
   * 一旦交换机知道了目标设备的位置，以后收到发送给该设备的帧时，它就只会将帧发送到目标设备所在的端口，而不是广播到所有端口。
   * 这种方式称为单播，交换机只将帧发送到目标设备的端口，提高了网络效率。

## 客户的网络接到我们网关交换机下面，反应登陆不上服务器，请问解决大概步骤是什么？

1. **确认网络物理连接：**

   * 确保所有网络设备（交换机、路由器、服务器）的物理连接都正常。检查网线、端口是否插好。
2. **检查网络设备状态：**

   * 检查交换机和路由器的状态，确保设备正常运行。查看设备的指示灯，有无异常。
3. **检查IP地址配置：**

   * 确保客户端、网关、服务器的IP地址配置正确。检查是否存在IP地址冲突。
4. **Ping测试：**

   * 使用ping命令测试客户端能否ping通网关，以及网关能否ping通服务器。这有助于确定网络中的可达性问题。

     ```
     ping 网关IP
     ping 服务器IP
     ```
5. **路由表检查：**

   * 在客户端和服务器上检查路由表，确保正确的路由信息。使用 `route` 命令（Windows上是 `route print`）。
6. **防火墙检查：**

   * 检查客户端、网关和服务器上的防火墙设置，确保防火墙规则不会阻止网络流量。
7. **查看日志：**

   * 在服务器上查看系统日志、应用程序日志，检查是否有关于网络连接的错误信息。
8. **远程连接测试：**

   * 如果有远程连接工具（如SSH、RDP等），尝试从客户端远程连接服务器，检查是否有连接失败的信息。
9. **交换机端口状态：**

   * 在交换机上检查与服务器相连的端口状态，确认端口正常工作。

## 路由环问题会引起（    ）

A.	慢收敛
B.	广播风暴
C.	路由器重起
D.	路由不一致

答案：

C. 路由器重起。路由环问题可能导致路由器之间的路由信息不一致，从而触发路由器重新启动，试图解决环路导致的问题。

## acl 100 rule permit ip source 210.78.1.1.0.0.255.255 destination 202.38.5.2.0.0.0.0的含义是（   ）

A. 允许主机210.78.1.1访问主机202.38.5.2
B. 允许210.78.0.0的网络访问202.38.0.0的网络
C. 允许主机202.38.5.2访问网络210.78.0.0
D. 允许210.78.0.0的网络访问主机202.38.5.2

答案：

D. 允许210.78.0.0的网络访问主机202.38.5.2  。这条ACL规则允许源IP在210.78.1.1到210.78.1.255之间的主机（即210.78.1.1/24网络）访问目标IP为202.38.5.2的主机。所以是允许210.78.0.0的网络访问主机202.38.5.2。
